---
- ansible.builtin.include_tasks: packages.yml

- ansible.builtin.include_tasks: locales.yml
  when: ansible_os_family == 'Debian'

- ansible.builtin.include_tasks: module_prs.yml
  when: (foreman_installer_module_prs|length > 0) or (foreman_installer_module_branches|length > 0)

- ansible.builtin.include_tasks: custom_hiera.yml
  when: foreman_installer_custom_hiera

- ansible.builtin.include_tasks: install.yml
  when: not foreman_installer_upgrade

- ansible.builtin.include_tasks: upgrade.yml
  when: foreman_installer_upgrade
